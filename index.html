<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Sathwik's Website</title>
    <link href="style.css" rel="stylesheet" type="text/css" />
  </head>

  <body>
    <input placeholder="Write your To-do here" />
    <button onclick="Addtodo()">Add you next Div</button>
  </body>

  <script>
    let count = 1;
    function changetodo() {
      let x = 1;
      let st = document.querySelectorAll("div");
      console.log(st);
      console.log("hi");

      for (let k of st) {
        k.id = "div" + x;
        let hd4 = k.querySelector("h4");
        let content = hd4.innerHTML.split(". ")[1];
        hd4.innerHTML = x + ". " + content;
        let dbutton = k.querySelector("button");
        dbutton.setAttribute("onclick", "deletetodo(" + x + ")");
        x++;
      }
      return x;
    }
    function deletetodo(id) {
      let delelem = document.getElementById("div" + id);
      delelem.parentNode.removeChild(delelem);

      count = changetodo();
    }

    function Addtodo() {
      const in1 = document.querySelector("input");
      let val = in1.value;

      let elem = document.createElement("div");
      elem.id = "div" + count;

      let headin = document.createElement("h4");
      headin.innerHTML = count + ". " + val;

      let newbutton = document.createElement("button");
      newbutton.innerHTML = "delete";
      newbutton.setAttribute("onclick", "deletetodo(" + count + ")");

      elem.appendChild(headin);
      elem.appendChild(newbutton);

      const par = document.querySelector("body");
      par.appendChild(elem);
      count = count + 1;
      //devu
    }
  </script>
</html>
